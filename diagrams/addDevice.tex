\begin{figure}[ht!]
    \centering
    \begin{sequencediagram}
        \newinst[]{UI}{\shortstack{Interfejs\\użytkownika}}{}
        \newinst[]{Room}{Room}{}
        \newinst[]{Controller}{TemperatureController}{}
        \newinst[]{JobScheduler}{JobScheduler}{}

        \begin{mess}{UI}{DeviceDefinition}{Room}\end{mess}
        \begin{mess}{Room}{DeviceDefinition}{Controller}\end{mess}

        \begin{call}{Controller}{}{Controller}{\shortstack{Dodaj urządzenia do listy}}\end{call}

        \begin{mess}{Controller}{TemperatureTask}{JobScheduler}\end{mess}
            
        \begin{mess}{JobScheduler}{Execution Plan}{Controller}\end{mess}              
        \begin{sdblock}{Jeżeli plan zakłada natychmiastową reakcję}{}
            \begin{call}{Controller}{}{Controller}{\shortstack{Przelacz urządzenia na\\odpowiedni tryb}}\end{call}
            \begin{mess}{Controller}{DevicesStatus}{Room}\end{mess}
        \end{sdblock} 
    \end{sequencediagram}
    \caption{Schemat dodawania urządzenia HVAC do pomieszczenia}
    \label{fig:addDevice}
\end{figure}
 