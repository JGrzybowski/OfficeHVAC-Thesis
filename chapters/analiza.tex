\chapter{Analiza biznesowa}

\section{Model zmiany temperatury}
Przygotowanie dokładniejszych modeli parametrów pomieszczenia nie mieści się w zakresie pracy, skupiono się zatem na prostym modelu wymiany ciepła opierającym się o moc i wydajność urządzeń.

Podstawą modelu jest wzór na ciepło właściwe:
$$ c = \frac{\Delta Q}{m \Delta T} $$
Gdzie $c$ to ciepło właściwe, $\Delta Q$ to ilość energii dostarczonej do substancji, $m$ jest masą substancji, a $\Delta T$ różnicą temperatur.
Po przekształceniu we wzór na zmianę temperatury otrzymujemy:
$$ \Delta T = \frac{\Delta Q}{m \cdot c} $$
Masę powietrza możemy zamienić na iloczyn gęstości oraz objętości pomieszczenia.
$$ \Delta T = \frac{\Delta Q}{V \cdot \rho_{air} \cdot c} $$
Ilość energii dostarczonej do powietrza może być wyliczona z iloczynu mocy $P$ i czasu $\Delta t$
$$ \Delta T = \frac{P \cdot \Delta t}{V \cdot \rho_{air} \cdot c} $$

Mając taki wzór możemy zdefiniować urządzenia HVAC za pomocą ich mocy $P_{max}$ oraz zestawu trybów, w których mogą pracować.
Każdy tryb byłby opisany przez 
\begin{itemize}
    \item zużycie mocy $e$ - jaką część maksymalnej mocy używa urządzenie podczas pracy w danym trybie. 
    \item wydajność $\lambda$ - jaka część energii jest oddawana do powietrza. 
\end{itemize}
Obie wartości byłyby wyrażone wartościami z zakresu $\langle 0,1 \rangle$. Wartość efektywnej energii oblicza się wzorem
$$ \Delta Q = P_{max} \cdot e \cdot \Delta t \cdot \lambda $$

Model zakłada, że urządzenia HVAC są w stanie w jednakowym stopniu zarówno ogrzewać jak i chłodzić pomieszczenia. 

\section{Analiza wymagań systemu}
Przy założeniu ewentualnej późniejszej rozbudowy systemu lub przeniesienia go na inny język programowania system musiał spełniać następujące wymagania:

\subsection*{Możliwość dodania nowych parametrów pomieszczenia}
Dodanie nowych, dynamicznie zmieniających się parametrów, takich jak wilgotność czy nasłonecznienie, pozwalałoby udoskonalić model temperatur i zbliżyć go do rzeczywistego modelu fizycznego.

Jednocześnie, dodanie mniej dynamicznych parametrów, na które jesteśmy w stanie wpłynąć dawałby możliwość sprawdzenia i skorygowania ich. Np. poziom tlenu w pomieszczeniu pozwala ocenić czy osobom w pomieszczeniu nie jest zbyt duszno i przewietrzyć pomieszczenia za pomocą dostępnych urządzeń.

Oczywiście, każde dodanie takiego parametru wiązałoby się z nowym typem sensora. O ile badane zajwisko zmianiałoby się na tyle wolno, że moglibyśmy na nie oddziałować, byłoby możliwe dodanie aktuatora.

\subsubsection*{Parametryzacja i podmiana modeli}
Możliwość parametryzacji model pozwoliłaby dostrajać modele i poprawić precyzję predykcji i sugesti systemu.
Podmiana modeli umożliwiłaby aktualizację parametrów modelu lub podmianę na inaczej skonstruowany model (np. przewidujący temperatury z innych parametrów pomieszczenia) bez wyłączania systemu. 

\subsection*{Możliwość podpięcia różnych źródeł danych}
W różnych firmach używa się różnych systemów do ustalania terminów spotkań czy rezerwacji sal np. Microsoft Exchange Server czy IBM Domino.
System powinien pozwalać na dopisanie adaptera zajmującego się przekazywaniem wydarzeń do systemu HVAC i uniezależnianiem go od źródła danych.

\subsection*{Możliwość zbadania stanu systemu}
Dla celów diagnostycznych oraz aby dostroić modele potrzebny jest łatwy dostęp do danych o stanie urządzeń oraz danych z samego systemu HVAC. Musi zatem istnieć sposób, aby w łatwy sposób połączyć się z systemem HVAC i zerbać informacje o jego stanie.

Aby móc wykonywać powtarzalne próby wydajnie potrzebne były:

\section{Analiza wymagań aplikacji symulatora}
Użycie rzeczywistych urządzeń HVAC, w celu sprawdzenia poprawności działania systemu, nie było możliwe w ramach tej pracy ze względu na kosztowność i czasochłonność takiego rozwiązania. 
Potrzebny był zatem symulator który zawierałby w sobie system HVAC oraz interfejs użytkownika umożliwiający interakcję z systemem. 

\subsection*{Symulacja upływu czasu}
Symulator powinien też pozwalać na przyspieszenie czasu w symulowanym systemie, ograniczyć czas potrzebny na testowanie.
i nie czekać na wynik działania systemu po np. dwóch godzinach. System powinien pozwalać na przeskalowanie czasu upływającego w systemie np. jedna sekunda czasu rzeczywistego to 5 minuty czasu symulatora.

\subsection*{Mechanizm ładowania schematu budynku}
Aplikacja symulatora powinna pozwalać na zapisanie i ponowne załadowanie właściwości pomieszczeń wraz ze stanem urządzeń zanjdujących się w nim.

\subsection*{Silnik scenariuszy}
Scenariusze czyli lista sygnałów, które odbiera system o określonym czasie. Np. podniesienie się temperatury czy przesunięcie spotkania. Za pomocą odtwarzalnych scenariuszy możemy wielokrotnie testować zachowanie systemu w tych samych warunkach, ale np. z innymi parametrami w modelu temperatury.
